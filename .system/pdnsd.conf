// Sample pdnsd configuration file. Must be customized to obtain a working pdnsd setup!
// Read the pdnsd.conf(5) manpage for an explanation of the options.
// Add or remove '#' in front of options you want to disable or enable, respectively.
// Remove '/*' and '*/' to enable complete sections.

global {
	perm_cache=10240;
	cache_dir="/var/cache/pdnsd";
#	pid_file = /var/run/pdnsd.pid;
	run_as="pdnsd";
	server_ip = 127.0.0.1; 
	status_ctl = on;
 	#paranoid=on;       # This option reduces the chance of cache poisoning
	                   # but may make pdnsd less efficient, unfortunately.
	query_method=tcp_udp;
	run_ipv4 = on;
	debug = off;
	min_ttl=7d;       # Retain cached entries at least 15 minutes.
	max_ttl=30d;        # One week.
	timeout=5;        # Global timeout option (10 seconds).
	neg_domain_pol=on;
	udpbufsize=1024;   # Upper limit on the size of UDP messages.
}

server {
	label= "google";
	ip =  168.95.1.1, 8.8.4.4, 208.67.220.220;  # Put your ISP's DNS-server address(es) here.
	timeout=2;         # Server timeout; this may be much shorter
			   # that the global timeout option.
	uptest = ping;
	interval=10;      # Check every 10 minutes.
	proxy_only=off;
	purge_cache=off;   # Keep stale cache entries in case the ISP's
	reject_recursively=on;
	randomize_servers=off;
	exclude=.localdomain,.taobao.com,.weibo.com,.10010.com,.115.com,.123u.com,.126.com,.126.net,.163.com,.17173.com,.178.com,.gmail.com,.17cdn.com,.189qas.com,.21cn.com,.2288.org,.3322.org,.360buy.com,.360buyimg.com,.360doc.com,.360safe.com,.36kr.com,.3dmgame.com,.400gb.com,.4399.com,.51.la,.51buy.com,.51cto.com,.51job.com,.51jobcdn.com,.5d6d.com,.5d6d.net,.61.com,.6600.org,.6rooms.com,.7766.org,.7k7k.com,.8800.org,.8866.org,.90g.org,.91.com,.9966.org,.acfun.tv,.acg.tv,.acgvideo.com,.aicdn.com,.ali213.net,.alibaba.com,.alicdn.com,.aliexpress.com,.aliimg.com,.alikunlun.com,.alimama.com,.alipay.com,.alipaydns.com,.alipayobjects.com,.alisoft.com,.aliyun.com,.aliyuncdn.com,.aliyuncs.com,.amap.com,.anzhi.com,.appinn.com,.apple.com,.appsina.com,.archlinuxcn.org,.atpanel.com,.baidu.com,.baidupcs.com,.baidustatic.com,.baifendian.com,.baihe.com,.baixing.com,.baofeng.com,.baofeng.net,.bdimg.com,.bdstatic.com,.bfimg.com,.bilibili.com,.bilibili.tv,.blogbus.com,.blueidea.com,.ccb.com,.cctv.com,.cctvpic.com,.cdn20.com,.changba.com,.china.com,.chinabyte.com,.chinacache.com,.chinacache.net,.chinamobile.com,.chinanetcenter.com,.chinanews.com,.chinaren.com,.chinaunix.net,.chinaz.com,.cloudcdn.net,.cn.bing.com,.cn.debian.org,.cn,.cnbeta.com,.cnbetacdn.com,.cnblogs.com,.cnepub.com,.cnzz.com,.comsenz.com,.cootekservice.com,.csdn.net,.ct10000.com,.ctdisk.com,.dangdang.com,.dbank.com,.dedecms.com,.diandian.com,.dianping.com,.discuz.com,.discuz.net,.docin.com,.donews.com,.dospy.com,.douban.com,.douban.fm,.dpfile.com,.duapp.com,.duba.net,.duomi.com,.duote.com,.duowan.com,.easou.com,.easytomessage.com,.egou.com,.et8.org,.etao.com,.f3322.org,.fantong.com,.fastcdn.com,.fenzhi.com,.fhldns.com,.ganji.com,.gaopeng.com,.geekpark.net,.gfan.com,.goapk.com,.gooncheck.com,.gtimg.com,.hacdn.net,.hadns.net,.hao123.com,.hao123img.com,.hc360.com,.hdslb.com,.hexun.com,.hiapk.com,.hichina.com,.hicloud.com,.hoopchina.com,.huanqiu.com,.hudong.com,.huochepiao.com,.hupu.com,.iask.com,.iciba.com,.idqqimg.com,.ifanr.com,.ifeng.com,.ifengimg.com,.igexin.com,.ijinshan.com,.iqiyi.com,.irs01.com,.it168.com,.itcpn.net,.iteye.com,.itouzi.com,.jandan.net,.jd.com,.jiashule.com,.jiasule.com,.jiathis.com,.jiayuan.com,.jiepang.com,.jing.fm,.jobbole.com,.jstv.com,.jumei.com,.kaixin001.com,.kandian.com,.kandian.net,.kanimg.com,.kankanews.com,.kdnet.net,.koudai8.com,.ku6.com,.ku6cdn.com,.ku6img.com,.kuaidi100.com,.kugou.com,.lashou.com,.letao.com,.letv.com,.lietou.com,.linezing.com,.loli.mg,.loli.vg,.lvping.com,.lxdns.com,.mangocity.com,.mapbar.com,.mcbbs.net,.mediav.com,.meilishuo.com,.meituan.com,.meituan.net,.meizu.com,.microsoft.com,.miui.com,.moe123.com,.moegirl.org,.mop.com,.mtime.com,.my-card.in,.mydrivers.com,.mygolbs.com,.mzstatic.com,.netease.com,.newsmth.net,.ngacn.cc,.nuomi.com,.okbuy.com,.optaim.com,.oschina.net,.paipai.com,.paipaiimg.com,.pcbeta.com,.pchome.net,.pcpop.com,.pengyou.com,.phoenixlzx.com,.phpwind.net,.pingan.com,.pool.ntp.org,.pplive.com,.pps.tv,.ppstream.com,.pptv.com,.pubyun.com,.qhimg.com,.qianlong.com,.qidian.com,.qingdaonews.com,.qiniu.com,.qiniudn.com,.qiushibaike.com,.qiyi.com,.qiyipic.com,.qq.com,.qqmail.com,.qstatic.com,.qunar.com,.qunarzz.com,.qvbuy.com,.renren.com,.renrendai.com,.rrfmn.com,.rrimg.com,.sanguosha.com,.sdo.com,.shifen.com,.sina.com,.sinaapp.com,.sinaedge.com,.sinaimg.com,.sinajs.com,.skycn.com,.smzdm.com,.sogou.com,.sohu.com,.soku.com,.solidot.org,.soso.com,.soufun.com,.soufunimg.com,.staticfile.org,.staticsdo.com,.steamcn.com,.suning.com,.szzfgjj.com,.tanx.com,.taobao.com,.taobaocdn.com,.tbcache.com,.tdimg.com,.tencent.com,.tenpay.com,.tgbus.com,.thawte.com,.tiancity.com,.tianyaui.com,.tiexue.net,.tmall.com,.tmcdn.net,.tom.com,.tomonline-inc.com,.tuan800.com,.tuan800.net,.tuanimg.com,.tudou.com,.tudouui.com,.tuniu.com,.u148.net,.u17.com,.ubuntu.com,.ucjoy.com,.ucweb.com,.umeng.com,.umengcloud.com,.uni-marketers.com,.unionpay.com,.unionpaysecure.com,.upaiyun.com,.upyun.com,.uusee.com,.uuu9.com,.vaikan.com,.vancl.com,.vcimg.com,.verycd.com,.wandoujia.com,.wanggou.com,.wdjimg.com,.weibo.com,.weiphone.com,.weiyun.com,.west263.com,.wrating.com,.wscdns.com,.wumii.com,.xdcdn.net,.xiachufang.com,.xiami.com,.xiami.net,.xiaomi.com,.xiaonei.com,.xiazaiba.com,.xici.net,.xilu.com,.xinhuanet.com,.xinnet.com,.xlpan.com,.xn--fiqs8s,.xnpic.com,.xungou.com,.xunlei.com,.ydstatic.com,.yesky.com,.yeyou.com,.yihaodian.com,.yihaodianimg.com,.yingjiesheng.com,.yintai.com,.yinyuetai.com,.yiqifa.com,.yisou.com,.yixun.com,.ykimg.com,.ymatou.com,.ynet.com,.youdao.com,.yougou.com,.youku.com,.yupoo.com,.yy.com,.yyets.com,.zbjimg.com,.zhaopin.com,.zhi.hu,.zhihu.com,.zhimg.com,.zhubajie.com,.zongheng.com,.qq.com,
  .googlevideo.com,
  .facebook.com,
  .twitter.com,
  .akamaihd.net;
}


server {
	label = "china";
	ip = 223.5.5.5, 223.6.6.6;
	uptest = ping;
	timeout=2;        
	interval = 10;           # Test every 15 minutes.
	proxy_only=off;
	randomize_servers=off;
	purge_cache=off;   # Keep stale cache entries in case the ISP's
	reject_policy = fail;     # If you do not provide any alternative server
	exclude=.googlevideo.com,
          .facebook.com,
          .twitter.com,
          .akamaihd.net;
}

server {
	label = "dnscrypt";
	ip = 127.0.0.2;
	uptest = ping;
	timeout=10;        
	interval = 10;           # Test every 15 minutes.
	randomize_servers=off;
	proxy_only=off;
	purge_cache=off;   # Keep stale cache entries in case the ISP's
	reject_policy = fail;     # If you do not provide any alternative server
}

rr { name=perhome.cn; reverse=on; a=127.0.0.1;}
rr { name=*.perhome.cn; reverse=on; a=127.0.0.1;}

rr { name=puhua.co; reverse=on; a=127.0.0.1;}
rr { name=*.puhua.co; reverse=on; a=127.0.0.1;}

# rr {  name=google.com;  reverse=on;  a=212.-.188.7.226; }
# rr { name=*.google.com; reverse=on; a=212.188.7.226; }
rr {  name=google.com.hk;  reverse=on;  cname=google.com; }
rr { name=www.google.com.hk; reverse=on; cname=google.com; }

#rr {  name=google.com;  reverse=on;  a=31.209.137.48; }
#rr {  name=google.com;  reverse=on;  a=31.209.137.48; }
rr {  name=google.com;  reverse=on;  a=212.188.10.227; }
rr {  name=www.google.com;  reverse=on;  a=58.176.217.119; }
rr { name=*.google.com; reverse=on; a=58.176.217.119; }

rr {  name=youtube.com;  reverse=on;  a=173.194.120.65; }
rr { name=*.youtube.com; reverse=on; a=173.194.120.65; }

rr {  name=googleusercontent.com;  reverse=on;  a=58.176.217.123; }
rr {  name=*.googleusercontent.com;  reverse=on;  a=58.176.217.123; }

rr { name=appspot.com; reverse=on; a=58.176.217.114; }
rr { name=*.appspot.com; reverse=on; a=58.176.217.114; }

rr { name=smtp.gmail.com; reverse=on; a=74.125.25.109; }

rr { name=google.com.hk; cname=google.com; }
rr { name=*.google.com.hk; reverse=on; a=212.188.7.226;}

rr { name=gstatic.com; reverse=on; a=58.176.217.84; }
rr { name=*.gstatic.com; reverse=on; a=58.176.217.84; }

rr { name=googleapis.com; reverse=on; a=193.92.133.39; }
rr { name=*.googleapis.com; reverse=on; a=85.182.250.24; }

rr { name=googlecode.com; reverse=on; a=212.188.7.226; }
rr { name=*.googlecode.com; reverse=on; a=212.188.7.226; }

rr { name=google-analytics.com; reverse=on; a=74.125.143.97; }
rr { name=*.google-analytics.com; reverse=on; a=74.125.143.97; }

rr { name=upload.api.weibo.com; reverse=on; a=36.51.254.243; }

rr {
	name=pc;
	reverse=on;
	a=127.0.0.1;
}


source {
	owner=localhost;
#	serve_aliases=on;
	file="/etc/hosts";
}

source {
	owner=localhost;
	file="/etc/hosts.extra";
}

/*
include {file="/etc/pdnsd.include";}	# Read additional definitions from /etc/pdnsd.include.
*/

rr {
	name=localhost;
	reverse=on;
	a=127.0.0.1;
	owner=localhost;
	soa=localhost,root.localhost,42,86400,900,86400,86400;
}

